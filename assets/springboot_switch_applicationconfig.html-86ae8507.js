import{_ as a,V as s,W as n,a0 as e}from"./framework-73d9479b.js";const i={},l=e(`<p>Profile 是 Spring 对不同环境提供不同配置功能的支持，可以通过激活、指定参数等方式快速切换环境。</p><h2 id="多-profile-文件" tabindex="-1"><a class="header-anchor" href="#多-profile-文件" aria-hidden="true">#</a> 多 Profile 文件</h2><p>文件名格式：</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code>application<span class="token punctuation">-</span><span class="token punctuation">{</span>profile<span class="token punctuation">}</span>.properties
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>默认使用 application.properties 配置文件。</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code>spring.profiles.active=dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="yml-多文档快" tabindex="-1"><a class="header-anchor" href="#yml-多文档快" aria-hidden="true">#</a> yml 多文档快</h2><p>yml 文件中支持使用三个短横线分割文档块的方式。</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8082</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span>
    <span class="token key atrule">active</span><span class="token punctuation">:</span> dev
<span class="token punctuation">---</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> dev
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8083</span>
<span class="token punctuation">---</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> prod
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8084</span>
<span class="token punctuation">---</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> default
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
<span class="token punctuation">---</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="激活指定配置方式" tabindex="-1"><a class="header-anchor" href="#激活指定配置方式" aria-hidden="true">#</a> 激活指定配置方式</h2><h3 id="配置文件方式" tabindex="-1"><a class="header-anchor" href="#配置文件方式" aria-hidden="true">#</a> 配置文件方式</h3><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span>
    <span class="token key atrule">active</span><span class="token punctuation">:</span> dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>或者</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code>spring.profiles.active=dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="命令行方式" tabindex="-1"><a class="header-anchor" href="#命令行方式" aria-hidden="true">#</a> 命令行方式</h3><p>不打包 运行</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mvn clean spring-boot:run -Dspring-boot.run.jvmArguments<span class="token operator">=</span><span class="token string">&#39;-Dserver.port=9002 -Dspring.profiles.active=uat2&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在打包后运行的时候，添加参数</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 命令行中指定启动端口</span>
<span class="token function">java</span> <span class="token parameter variable">-jar</span> spring-boot-02-config-0.0.1-SNAPSHOT.jar <span class="token parameter variable">--server.port</span><span class="token operator">=</span><span class="token number">9000</span> <span class="token parameter variable">--spring.profiles.active</span><span class="token operator">=</span>dev

<span class="token comment"># 传入虚拟机系统属性</span>
<span class="token function">java</span> - <span class="token assign-left variable">Dserver.port</span><span class="token operator">=</span><span class="token number">9000</span> <span class="token parameter variable">-Dspring.profiles.active</span><span class="token operator">=</span>uat2 <span class="token parameter variable">-jar</span> bootsample.jar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="编辑-configurations-填写命令行参数或虚拟机参数" tabindex="-1"><a class="header-anchor" href="#编辑-configurations-填写命令行参数或虚拟机参数" aria-hidden="true">#</a> 编辑 Configurations，填写命令行参数或虚拟机参数</h3><ul><li>idea</li></ul><p>VM options</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token parameter variable">-Dspring.profiles.active</span><span class="token operator">=</span>dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Program arguments</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token parameter variable">--spring.profiles.active</span><span class="token operator">=</span>dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>VS Code</li></ul><p>VM options</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token property">&quot;vmArgs&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-Dspring.profiles.active=dev&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Program arguments</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token property">&quot;args&quot;</span><span class="token operator">:</span> <span class="token string">&quot;--spring.profiles.active=dev&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,30),p=[l];function r(t,o){return s(),n("div",null,p)}const d=a(i,[["render",r],["__file","springboot_switch_applicationconfig.html.vue"]]);export{d as default};
