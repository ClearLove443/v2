import{_ as t,D as i,V as l,W as o,a0 as s,Y as a,Z as p,$ as c}from"./framework-e0f7ab62.js";const r={},d={href:"https://stackoverflow.com/questions/43895201/how-to-install-a-list-of-many-global-packages-with-yarn",target:"_blank",rel:"noopener noreferrer"};function u(m,n){const e=i("ExternalLinkIcon");return l(),o("div",null,[n[1]||(n[1]=s(`<h2 id="npm" tabindex="-1"><a class="header-anchor" href="#npm" aria-hidden="true">#</a> npm</h2><p>使用 npm 安装模块分为本地安装和全局安装。</p><p>本地安装：npm install express 会安装到当前项目</p><p>全局安装：npm install express -g 会安装到指定的目录(node_global)</p><p>另外，如果没有设置全局目录 node_global，那么全局安装的文件将会保存到 C:\\Users\\hades\\AppData\\Roaming\\npm (hases 是自己设置的计算机名字)</p><p>安装好 node 后，要设置一下 node_global 和 node_cache(node 缓存文件夹)</p><ol><li><p>在 node 安装目录创建 node_global 和 node_cache 文件夹</p></li><li><p>设置环境变量：</p></li></ol><p>用户变量设置：将用户变量中 PATH 的值改成 D:\\Program Files\\nodejs\\node_global，没有 PATH，可以直接添加。</p><p>系统变量设置：添加变量 NODE_PATH 值为：D:\\Program Files\\nodejs\\node_modules</p><ol start="3"><li>打开 cmd，执行</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> config <span class="token builtin class-name">set</span> prefix <span class="token string">&quot;D:\\Program Files<span class="token entity" title="\\n">\\n</span>odejs<span class="token entity" title="\\n">\\n</span>ode_global&quot;</span>

<span class="token function">npm</span> config <span class="token builtin class-name">set</span> cache <span class="token string">&quot;D:\\Program Files<span class="token entity" title="\\n">\\n</span>odejs<span class="token entity" title="\\n">\\n</span>ode_cache&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>有时候用 npm 拉取包可能会很慢，可以用淘宝 npm 镜像代替 npm 进行拉包，就像 github 和 gitee</li></ol><p>执行：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> cnpm <span class="token parameter variable">--registry</span><span class="token operator">=</span>https://registry.npm.taobao.org
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="yarn-2-0-以上" tabindex="-1"><a class="header-anchor" href="#yarn-2-0-以上" aria-hidden="true">#</a> yarn 2.0 以上</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>
<span class="token comment"># 先安装1.X</span>
<span class="token function">npm</span> <span class="token parameter variable">-g</span> <span class="token function">install</span> <span class="token function">yarn</span>

<span class="token comment"># 安装3.x版本</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">https_proxy</span><span class="token operator">=</span>http://192.168.2.10:7890
<span class="token function">yarn</span> <span class="token builtin class-name">set</span> version stable

<span class="token comment"># 查看版本号</span>
<span class="token function">yarn</span> <span class="token parameter variable">--version</span>

<span class="token comment"># 本机设置(全局设置)</span>
<span class="token function">vim</span> ~/.yarnrc.yml

globalFolder: <span class="token string">&quot;D:<span class="token entity" title="\\\\">\\\\</span>repositories<span class="token entity" title="\\\\">\\\\</span>yarn3-repository<span class="token entity" title="\\\\">\\\\</span>Data<span class="token entity" title="\\\\">\\\\</span>global&quot;</span>
yarnPath: <span class="token string">&quot;D:<span class="token entity" title="\\\\">\\\\</span>repositories<span class="token entity" title="\\\\">\\\\</span>yarn3-repository<span class="token entity" title="\\\\">\\\\</span>.yarn<span class="token entity" title="\\\\">\\\\</span>releases<span class="token entity" title="\\\\">\\\\</span>yarn-3.2.0.cjs&quot;</span>
cacheFolder: <span class="token string">&quot;D:<span class="token entity" title="\\\\">\\\\</span>repositories<span class="token entity" title="\\\\">\\\\</span>yarn3-repository<span class="token entity" title="\\\\">\\\\</span>Cache&quot;</span>
installStatePath: <span class="token string">&quot;D:<span class="token entity" title="\\\\">\\\\</span>repositories<span class="token entity" title="\\\\">\\\\</span>yarn3-repository<span class="token entity" title="\\\\">\\\\</span>.yarn<span class="token entity" title="\\\\">\\\\</span>install-state.gz&quot;</span>
npmRegistryServer: <span class="token string">&quot;https://repo.huaweicloud.com/repository/npm/&quot;</span>
<span class="token comment"># angular 项目必须设置  默认pnp</span>
nodeLinker: node-modules


<span class="token comment"># 单个项目设置</span>
<span class="token function">yarn</span> config <span class="token builtin class-name">set</span> prefix <span class="token string">&quot;D:<span class="token entity" title="\\r">\\r</span>epositories\\yarn3-repository\\Data&quot;</span>
<span class="token function">yarn</span> config <span class="token builtin class-name">set</span> globalFolder <span class="token string">&quot;D:<span class="token entity" title="\\r">\\r</span>epositories\\yarn3-repository\\Data\\global&quot;</span>
<span class="token function">yarn</span> config <span class="token builtin class-name">set</span> yarnPath <span class="token string">&quot;D:<span class="token entity" title="\\r">\\r</span>epositories\\yarn-repository\\.yarn<span class="token entity" title="\\r">\\r</span>eleases\\yarn-3.2.0-rc.10.cjs&quot;</span>
<span class="token function">yarn</span> config <span class="token builtin class-name">set</span> installStatePath <span class="token string">&quot;D:<span class="token entity" title="\\r">\\r</span>epositories\\yarn3-repository\\.yarn\\install-state.gz&quot;</span>

<span class="token function">yarn</span> config <span class="token builtin class-name">set</span> cacheFolder <span class="token string">&quot;D:<span class="token entity" title="\\r">\\r</span>epositories\\yarn3-repository\\Cache&quot;</span>
<span class="token function">yarn</span> config <span class="token builtin class-name">set</span> link-folder <span class="token string">&quot;D:<span class="token entity" title="\\r">\\r</span>epositories\\yarn3-repository\\Data\\link&quot;</span>
<span class="token function">yarn</span> config <span class="token builtin class-name">set</span> pnpUnpluggedFolder <span class="token string">&quot;D:<span class="token entity" title="\\r">\\r</span>epositories\\yarn3-repository\\.yarn\\unplugged&quot;</span>

<span class="token function">yarn</span> config <span class="token builtin class-name">set</span> npmRegistryServer <span class="token string">&quot;http://127.0.0.1:8081/repository/npm_huawei&quot;</span>
<span class="token function">yarn</span> config <span class="token builtin class-name">set</span> unsafeHttpWhitelist <span class="token parameter variable">--json</span> <span class="token string">&#39;[&quot;127.0.0.1&quot;]&#39;</span>

<span class="token comment"># nodeLinker 默认值是 pnp, yarn install后不生成node_modules目录，项目运行有些依赖会报错，建议直接改 node-modules</span>
<span class="token function">yarn</span> config <span class="token builtin class-name">set</span> nodeLinker node_modules
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="accessing-the-list-of-commands" tabindex="-1"><a class="header-anchor" href="#accessing-the-list-of-commands" aria-hidden="true">#</a> Accessing the list of commands</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token builtin class-name">help</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="starting-a-new-project" tabindex="-1"><a class="header-anchor" href="#starting-a-new-project" aria-hidden="true">#</a> Starting a new project</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span> init
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="installing-all-the-dependencies" tabindex="-1"><a class="header-anchor" href="#installing-all-the-dependencies" aria-hidden="true">#</a> Installing all the dependencies</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span>
<span class="token function">yarn</span> <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="adding-a-dependency" tabindex="-1"><a class="header-anchor" href="#adding-a-dependency" aria-hidden="true">#</a> Adding a dependency</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> <span class="token punctuation">[</span>package<span class="token punctuation">]</span>
<span class="token function">yarn</span> <span class="token function">add</span> <span class="token punctuation">[</span>package<span class="token punctuation">]</span>@<span class="token punctuation">[</span>version<span class="token punctuation">]</span>
<span class="token function">yarn</span> <span class="token function">add</span> <span class="token punctuation">[</span>package<span class="token punctuation">]</span>@<span class="token punctuation">[</span>tag<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="adding-a-dependency-to-different-categories-of-dependencies" tabindex="-1"><a class="header-anchor" href="#adding-a-dependency-to-different-categories-of-dependencies" aria-hidden="true">#</a> Adding a dependency to different categories of dependencies</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> <span class="token punctuation">[</span>package<span class="token punctuation">]</span> <span class="token parameter variable">--dev</span>  <span class="token comment"># dev dependencies</span>
<span class="token function">yarn</span> <span class="token function">add</span> <span class="token punctuation">[</span>package<span class="token punctuation">]</span> <span class="token parameter variable">--peer</span> <span class="token comment"># peer dependencies</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="adding-a-global-dependency-not-support" tabindex="-1"><a class="header-anchor" href="#adding-a-global-dependency-not-support" aria-hidden="true">#</a> Adding a global dependency(not support)</h3>`,27)),a("p",null,[a("a",d,[n[0]||(n[0]=p("Adding a global dependency",-1)),c(e)])]),n[2]||(n[2]=s(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span> global <span class="token function">add</span> <span class="token punctuation">[</span>package<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="upgrading-a-dependency" tabindex="-1"><a class="header-anchor" href="#upgrading-a-dependency" aria-hidden="true">#</a> Upgrading a dependency</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span> up <span class="token punctuation">[</span>package<span class="token punctuation">]</span>
<span class="token function">yarn</span> up <span class="token punctuation">[</span>package<span class="token punctuation">]</span>@<span class="token punctuation">[</span>version<span class="token punctuation">]</span>
<span class="token function">yarn</span> up <span class="token punctuation">[</span>package<span class="token punctuation">]</span>@<span class="token punctuation">[</span>tag<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="removing-a-dependency" tabindex="-1"><a class="header-anchor" href="#removing-a-dependency" aria-hidden="true">#</a> Removing a dependency</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span> remove <span class="token punctuation">[</span>package<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="upgrading-yarn-itself" tabindex="-1"><a class="header-anchor" href="#upgrading-yarn-itself" aria-hidden="true">#</a> Upgrading Yarn itself</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token builtin class-name">set</span> version latest
<span class="token function">yarn</span> <span class="token builtin class-name">set</span> version from sources
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,7))])}const k=t(r,[["render",u],["__file","node_npm_yarn_config.html.vue"]]);export{k as default};
